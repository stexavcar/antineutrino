def test_lambdas() {
  print("Testing lambdas");
  def lam_foo := new LamFoo;
  def fun := lam_foo.m();
  def result := fun();
  assert_equal(lam_foo, result);
}

protocol LamFoo;
def LamFoo::m() -> (fn () -> this);
