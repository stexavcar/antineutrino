@no_override
protocol small_integer_t is value_t {

  @static @cast @type(small_integer_t)
  def proto.cast(arg is value_t)
   => arg;

  @static @cast @type(small_integer_t)
  def proto.of(arg is int32_t)
   => arg << int32_t.of(2);

  @type(int32_t)
  def this.value => this.id >> int32_t.of(2);

  @cast @type(small_integer_t)
  def this+(that is small_integer_t)
   => this.id + that.id;

}
