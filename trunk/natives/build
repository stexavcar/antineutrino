library (
  name = 'natives',
  flags = ['library'],
  libs = ['neutrino'],
  shared = True,
  files = [
    'core/file.cc',
    'test/test.cc'
  ],
)

flags (
  name = 'whiteout',
  include = ['library'],
  flags = {
    'LIBS': ['cairo'],
    'LIBPATH': '/opt/local/lib',
    'CPPPATH': ['natives', '/opt/local/include/cairo'],
    'LINKFLAGS': ['-framework', 'Carbon'],
  }
)

program (
  name = 'whiteout',
  flags = ['whiteout'],
  libs = ['neutrino'],
  files = [
    'whiteout/cairo-backend.cc',
    'whiteout/cairo-quartz.cc',
    'whiteout/main.cc',
    'whiteout/wtk.cc'
  ],
)
