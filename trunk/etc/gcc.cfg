default {
  DIALECTFLAGS := -ansi -pedantic
  WARNINGFLAGS := -Wall -W -Wno-unused-parameter -Winline -Wno-non-virtual-dtor
  CPPDEFINES   := [ GCC ]
  CCFLAGS      := $DIALECTFLAGS $WARNINGFLAGS
  CXXFLAGS     := $CCFLAGS -fno-exceptions -fno-rtti
  LIBS         := [ dl ]
}

product* : default {
  CCFLAGS      += -O3
  CPPDEFINES   += [ PRODUCT ]
  MODE         := PRODUCT
}

debug* : default {
  CCFLAGS      += -g -O0
  CPPDEFINES   += [ DEBUG ]
  MODE         := DEBUG
}

paranoid* : debug {
  CPPDEFINES   += [ PARANOID ]
}

32* [wordsize] {
  CPPDEFINES   += [ M32 ]
  CCFLAGS      += -m32
  LINKFLAGS    += -m32
}

64 [wordsize] {
  CPPDEFINES   += [ M64 ]
  CCFLAGS      += -m64
  LINKFLAGS    += -m64
}
