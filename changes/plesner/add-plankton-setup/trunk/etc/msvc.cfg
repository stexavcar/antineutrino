default {
  DIALECTFLAGS := /nologo
  WARNINGFLAGS := /W3 /wd4099 /wd4355 /wd4800
  CCFLAGS      := $DIALECTFLAGS $WARNINGFLAGS
  CXXFLAGS     := $CCFLAGS /EHsc /GS- /GR-
  CPPDEFINES   := MSVC M32
  CPPPATH      += %{root}/src
  LINKFLAGS    := /NOLOGO /SUBSYSTEM:CONSOLE /MACHINE:X86 /INCREMENTAL:NO
  ARFLAGS      := /NOLOGO
  CCPDBFLAGS   := /Zi
}

product {
  require $mode = 'product'
  CCFLAGS      += /O2 /MT
  LINKFLAGS    += /OPT:REF /OPT:ICF /SUBSYSTEM:CONSOLE
  CPPDEFINES   += PRODUCT
}

debug {
  require ( $mode = 'debug' ) or ( $mode = 'paranoid' )
  CCFLAGS      += /Od /Gm
  CPPDEFINES   += DEBUG
}

paranoid {
  require $mode = 'paranoid'
  use debug
  CPPDEFINES   += PARANOID
}
